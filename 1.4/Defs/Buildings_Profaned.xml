<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<!-- ==================== Throne =================== --> 

<ThingDef>
	<defName>BotchJob_ProfanedThrone</defName>
	<label>profaned throne</label>
	<description>A large, imposing stone throne atop a pile of bones. It functions the same as a grand throne for those more morbidly inclined.</description>
	<castEdgeShadows>True</castEdgeShadows>
	<size>(3,2)</size>
	<interactionCellOffset>(0,0,1)</interactionCellOffset>
	<statBases>
		<MaxHitPoints>350</MaxHitPoints>
		<WorkToBuild>40000</WorkToBuild>
		<Mass>100</Mass>
		<Flammability>1.0</Flammability>
		<Beauty>30</Beauty>
		<Comfort>0.9</Comfort>
		 <SellPriceFactor>0.70</SellPriceFactor>
		 <MeditationFocusStrength>0.15</MeditationFocusStrength>
	</statBases>
	<constructionSkillPrerequisite>10</constructionSkillPrerequisite>
	 <researchPrerequisites>
		<li>Stonecutting</li>
	  <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
	<stuffCategories>
		<li>Stony</li>
	</stuffCategories>
	<costStuffCount>200</costStuffCount>
	<costList>
		<Gold>50</Gold>
		<BotchJob_TaintedBone>15</BotchJob_TaintedBone>
	</costList>
	<building>
		<buildingSizeCategory>Medium</buildingSizeCategory>
		<isSittable>true</isSittable>
      <paintable>true</paintable>
	</building>
	<uiIconOffset>(0, 0.04)</uiIconOffset>
	<uiIconScale>1</uiIconScale>
	<graphicData>
		<drawSize>(4,4)</drawSize>
		<texPath>Things/Building/Furniture/ProfanedThrone</texPath>
		<graphicClass>Graphic_Multi</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<shadowData>
			<volume>(2.1,0.5,1.5)</volume>
		</shadowData>
		<damageData>
			<rect>(0.1,0.1,2.8,1.8)</rect>
		</damageData>
	</graphicData>
	
	<thingClass MayRequire="Ludeon.RimWorld.Royalty">Building_Throne</thingClass>
    <soundImpactDefault>BulletImpact_Ground</soundImpactDefault>
    <selectable>true</selectable>
    <drawerType>MapMeshOnly</drawerType>
    <repairEffect>Repair</repairEffect>
    <leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
    <filthLeaving>Filth_RubbleBuilding</filthLeaving>
	<designationCategory>Furniture</designationCategory>
    <minifiedDef>MinifiedThing</minifiedDef>
    <thingCategories>
      <li>BuildingsFurniture</li>
    </thingCategories>
	  <drawGUIOverlay>true</drawGUIOverlay>
    <drawGUIOverlayQuality>false</drawGUIOverlayQuality>
    <defaultPlacingRot>South</defaultPlacingRot>
    <altitudeLayer>Building</altitudeLayer>
    <category>Building</category>
    <hasInteractionCell>true</hasInteractionCell>
    <socialPropernessMatters>true</socialPropernessMatters>
    <pathCost>30</pathCost>
    <fillPercent>0.4</fillPercent>
	<ritualFocus>
      <spectateDistance>2</spectateDistance>
      <allowedSpectateSides>Up</allowedSpectateSides>
    </ritualFocus>
    <placeWorkers>
      <li>PlaceWorker_RitualFocus</li>
    </placeWorkers>
    <drawPlaceWorkersWhileSelected>True</drawPlaceWorkersWhileSelected>
    <comps>
	  <li>
			<compClass>CompQuality</compClass>
      </li>
      <li MayRequire="Ludeon.RimWorld.Royalty" Class="CompProperties_AssignableToPawn">
        <drawAssignmentOverlay>true</drawAssignmentOverlay>
        <compClass>CompAssignableToPawn_Throne</compClass>
        <noAssignablePawnsDesc>Throne ownership requires a person with a royal title.</noAssignablePawnsDesc>
      </li>
      <li MayRequire="Ludeon.RimWorld.Royalty" Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Dignified</li>
        </focusTypes>
        <offsets>
          <li Class="FocusStrengthOffset_ThroneSatisfiesRequirements">
            <offset>0.08</offset>
          </li>
          <li Class="FocusStrengthOffset_RoomImpressiveness">
            <curve>
              <points>
                <li>(0,   -0.05)</li>
                <li>(30,   0.00)</li>
                <li>(60,   0.04)</li>
                <li>(100,  0.08)</li>
                <li>(170,  0.10)</li>
              </points>
            </curve>
          </li>
        </offsets>
      </li>
    </comps>
	</ThingDef>


<!-- ==================== Brazier =================== --> 


<ThingDef Name="BotchJob_ProfanedBrazier" ParentName="FurnitureBase">
	<defName>BotchJob_ProfanedBrazier</defName>
	<label>profaned brazier</label>
	<description>A heavy, metal brazier atop a stone pedastal. When fueled it will illuminate the surrounding area and generate heat.\n\nSatisfies throne room requirements.</description>
	<category>Building</category>
	<tickerType>Normal</tickerType>
	<drawerType>MapMeshAndRealTime</drawerType>
	<fillPercent>0.25</fillPercent>
	<statBases>
		<MaxHitPoints>80</MaxHitPoints>
		<WorkToBuild>2000</WorkToBuild>
		<Flammability>0</Flammability>
		<Mass>15</Mass>
		<MeditationFocusStrength>0.0</MeditationFocusStrength>
	</statBases>
	<selectable>true</selectable>
	<designationCategory>Furniture</designationCategory>
	<uiOrder>2110</uiOrder>
	<uiIconOffset>(0, -0.04)</uiIconOffset>
	<minifiedDef>MinifiedThing</minifiedDef>
	<stuffCategories>
		<li>Stony</li>
	</stuffCategories>
	<costStuffCount>40</costStuffCount>
	<costList>
		<Steel>20</Steel>
	</costList>
	<placeWorkers>
		<li>PlaceWorker_Heater</li>
		<li>PlaceWorker_MeditationOffsetBuildingsNear</li>
	</placeWorkers>
	<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
	<comps>
		<li Class="CompProperties_Refuelable">
			<fuelConsumptionRate>2.0</fuelConsumptionRate>
			<fuelCapacity>30.0</fuelCapacity>
			<fuelConsumptionPerTickInRain>0.0006</fuelConsumptionPerTickInRain>
			<fuelFilter>
				<thingDefs>
					<li>WoodLog</li>
					<li MayRequire="DankPyon.Medieval.Overhaul">DankPyon_Coal</li>
				</thingDefs>
			</fuelFilter>
			<initialFuelPercent>0</initialFuelPercent>
			<showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
		</li>
		<li Class="CompProperties_Glower">
			<glowRadius>8</glowRadius>
			<glowColor>(252,187,113,0)</glowColor>
		</li>
		<li Class="CompProperties_HeatPusher">
			<compClass>CompHeatPusherPowered</compClass>
			<heatPerSecond>3.5</heatPerSecond>
			<heatPushMaxTemperature>23</heatPushMaxTemperature>
		</li>
		<li Class="CompProperties_FireOverlay">
			<fireSize>0.9</fireSize>
			<offset>(0,0,0.7)</offset>
		</li>
		<li MayRequire="Ludeon.RimWorld.Royalty" Class="CompProperties_MeditationFocus">
			<statDef>MeditationFocusStrength</statDef>
			<focusTypes>
				<li>Flame</li>
			</focusTypes>
			<offsets>
				<li Class="FocusStrengthOffset_Lit">
					<offset>0.15</offset>
				</li>
			<li Class="FocusStrengthOffset_BuildingDefsLit">
				<defs>
					<li>Campfire</li>
					<li>TorchLamp</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
					<li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
					<li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
					<li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
				</defs>
			<offsetPerBuilding>0.02</offsetPerBuilding>
			<radius>9.9</radius>
			<maxBuildings>8</maxBuildings>
			<explanationKey>MeditationFocusPerFlame</explanationKey>
			<explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
			</li>
			</offsets>
		</li>
	</comps>
	<canOverlapZones>false</canOverlapZones>
	<altitudeLayer>Building</altitudeLayer>
	<passability>PassThroughOnly</passability>
	<pathCost>42</pathCost>
	<rotatable>false</rotatable>
		 <researchPrerequisites>
		 <li>Stonecutting</li>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
	<uiIconScale>0.8</uiIconScale>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedBrazier</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawSize>(1.5,1.5)</drawSize>
		<drawOffset>(0,0,0.2)</drawOffset>
		<shadowData>
			<volume>(0.55, 0.35, 0.3)</volume>
			<offset>(0, 0, -0.28)</offset>
		</shadowData>
		<damageData>
			<rect>(0.2,0.3,0.6,0.6)</rect>
		</damageData>
	</graphicData>
	<building>
		<paintable>true</paintable>
	</building>
</ThingDef>

<ThingDef MayRequire="Ludeon.RimWorld.Ideology" ParentName="BotchJob_ProfanedBrazier">
	<defName>BotchJob_ProfanedBrazierDarklight</defName>
	<label>darklight profaned brazier</label>
	<description>A metal brazier atop a stone pedastal. When fueled it will illuminate the surrounding area with darklight and generate heat.\n\nSatisfies throne room requirements.</description>
	<comps Inherit="False">
      <li Class="CompProperties_Refuelable">
        <fuelConsumptionRate>1.2</fuelConsumptionRate>
        <fuelCapacity>30.0</fuelCapacity>
        <fuelConsumptionPerTickInRain>0.0006</fuelConsumptionPerTickInRain>
        <fuelFilter>
          <thingDefs>
            <li>WoodLog</li>
          </thingDefs>
        </fuelFilter>
        <initialFuelPercent>0</initialFuelPercent>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
      </li>
      <li Class="CompProperties_Glower">
        <glowRadius>8</glowRadius>
        <glowColor>(78, 226, 229, 0)</glowColor>
      </li>
      <li Class="CompProperties_HeatPusher">
        <compClass>CompHeatPusherPowered</compClass>
        <heatPerSecond>3.5</heatPerSecond>
        <heatPushMaxTemperature>23</heatPushMaxTemperature>
      </li>
      <li Class="CompProperties_DarklightOverlay">
        <fireSize>0.9</fireSize>
        <offset>(0,0,0.7)</offset>
      </li>
      <li Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Flame</li>
        </focusTypes>
        <offsets>
          <li Class="FocusStrengthOffset_Lit">
            <offset>0.15</offset>
          </li>
          <li Class="FocusStrengthOffset_BuildingDefsLit">
            <defs>
              <li>Campfire</li>
              <li>TorchLamp</li>
              <li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
              <li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
            </defs>
            <offsetPerBuilding>0.02</offsetPerBuilding>
            <radius>9.9</radius>
            <maxBuildings>8</maxBuildings>
            <explanationKey>MeditationFocusPerFlame</explanationKey>
            <explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
          </li>
        </offsets>
      </li>
    </comps>
</ThingDef>

<ThingDef MayRequire="Ludeon.RimWorld.Biotech" ParentName="BotchJob_ProfanedBrazier">
	<defName>BotchJob_ProfanedBrazierBlood</defName>
	<label>bloodflame profaned brazier</label>
	<description>A metal brazier atop a stone pedastal. When fueled it will illuminate the surrounding area with bloodflame and generate heat.\n\nSatisfies throne room requirements.</description>
	<comps Inherit="False">
      <li Class="CompProperties_Refuelable">
        <fuelConsumptionRate>1.2</fuelConsumptionRate>
        <fuelCapacity>30.0</fuelCapacity>
        <fuelConsumptionPerTickInRain>0.0006</fuelConsumptionPerTickInRain>
        <fuelFilter>
          <thingDefs>
            <li>WoodLog</li>
          </thingDefs>
        </fuelFilter>
        <initialFuelPercent>0</initialFuelPercent>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
      </li>
      <li Class="CompProperties_Glower">
        <glowRadius>8</glowRadius>
        <glowColor>(460, 220, 205, 0)</glowColor>
      </li>
      <li Class="CompProperties_HeatPusher">
        <compClass>CompHeatPusherPowered</compClass>
        <heatPerSecond>3.5</heatPerSecond>
        <heatPushMaxTemperature>23</heatPushMaxTemperature>
      </li>
      <li Class="CompProperties_SanguophageMeetingFire">
		<fireSize>0.9</fireSize>
		<finalFireSize>0.9</finalFireSize>
		<offset>(0,0,0.35)</offset>
		</li>
      <li Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Flame</li>
        </focusTypes>
        <offsets>
          <li Class="FocusStrengthOffset_Lit">
            <offset>0.15</offset>
          </li>
          <li Class="FocusStrengthOffset_BuildingDefsLit">
            <defs>
              <li>Campfire</li>
              <li>TorchLamp</li>
              <li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
              <li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
            </defs>
            <offsetPerBuilding>0.02</offsetPerBuilding>
            <radius>9.9</radius>
            <maxBuildings>8</maxBuildings>
            <explanationKey>MeditationFocusPerFlame</explanationKey>
            <explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
          </li>
        </offsets>
      </li>
    </comps>
</ThingDef>


<!-- ==================== Lantern =================== --> 

	<DesignatorDropdownGroupDef>
		<defName>BotchJob_ProfanedLanternDropdown</defName>
		<label>profaned lantern</label>
		<iconSource>Placed</iconSource>
	</DesignatorDropdownGroupDef>

<ThingDef Name="BotchJob_ProfanedLantern" ParentName="BuildingBase">
	<defName>BotchJob_ProfanedLantern</defName>
	<label>profaned lantern</label>
	<description>A metal lantern that emits an eerie glow. The light is very faint but will but the lantern will burn indefinitely.</description>
	<category>Building</category>
	<thingCategories>
		<li>BuildingsFurniture</li>
	</thingCategories>
	<designatorDropdown>BotchJob_ProfanedLanternDropdown</designatorDropdown>
	<tickerType>Normal</tickerType>
	<drawerType>RealtimeOnly</drawerType>
	<fillPercent>0.15</fillPercent>
	<statBases>
		<MaxHitPoints>80</MaxHitPoints>
		<WorkToBuild>2000</WorkToBuild>
		<Flammability>0</Flammability>
		<Mass>2</Mass>
		<MeditationFocusStrength>0.0</MeditationFocusStrength>
	</statBases>
	<selectable>true</selectable>
	<designationCategory>Furniture</designationCategory>
	<uiOrder>2110</uiOrder>
	<uiIconOffset>(0, -0.04)</uiIconOffset>
	<minifiedDef>MinifiedThing</minifiedDef>
	<altitudeLayer>BuildingOnTop</altitudeLayer>
	<clearBuildingArea>false</clearBuildingArea>
	 <costList>
      <Steel>20</Steel>
	  <BotchJob_LuminousDust>1</BotchJob_LuminousDust>
    </costList>
	<placeWorkers>
		<li>PlaceWorker_Heater</li>
		<li>PlaceWorker_MeditationOffsetBuildingsNear</li>
	</placeWorkers>
	<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
	<comps>
		<li Class="CompProperties_Glower">
			<glowRadius>4</glowRadius>
			<glowColor>(252,187,113,0)</glowColor>
		</li>
		<li MayRequire="Ludeon.RimWorld.Royalty" Class="CompProperties_MeditationFocus">
			<statDef>MeditationFocusStrength</statDef>
			<focusTypes>
				<li>Flame</li>
			</focusTypes>
			<offsets>
				<li Class="FocusStrengthOffset_Lit">
					<offset>0.15</offset>
				</li>
			<li Class="FocusStrengthOffset_BuildingDefsLit">
				<defs>
					<li>Campfire</li>
					<li>TorchLamp</li>
					<li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
					<li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
					<li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
					<li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
				</defs>
			<offsetPerBuilding>0.02</offsetPerBuilding>
			<radius>9.9</radius>
			<maxBuildings>8</maxBuildings>
			<explanationKey>MeditationFocusPerFlame</explanationKey>
			<explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
			</li>
			</offsets>
		</li>
	</comps>
	<canOverlapZones>false</canOverlapZones>
	<passability>PassThroughOnly</passability>
	<pathCost>42</pathCost>
	<rotatable>false</rotatable>
		 <researchPrerequisites>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
	<uiIconScale>0.8</uiIconScale>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedLantern</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawOffset>(0,0,0.2)</drawOffset>
		<shadowData>
			<volume>(0.55, 0.35, 0.3)</volume>
			<offset>(0, 0, -0.28)</offset>
		</shadowData>
		<damageData>
			<rect>(0.2,0.3,0.6,0.6)</rect>
		</damageData>
	</graphicData>
	<building>
		<isEdifice>false</isEdifice>
	</building>
</ThingDef>

<ThingDef MayRequire="Ludeon.RimWorld.Ideology" ParentName="BotchJob_ProfanedLantern">
	<defName>BotchJob_ProfanedLanternDarklight</defName>
	<label>darklight profaned lantern</label>
	<description>A metal lantern that emits an eerie darklight glow. The light is very faint but will but the lantern will burn indefinitely.</description>
	<comps Inherit="False">
      <li Class="CompProperties_Glower">
        <glowRadius>3</glowRadius>
        <glowColor>(78, 226, 229, 0)</glowColor>
      </li>
      <li Class="CompProperties_HeatPusher">
        <compClass>CompHeatPusherPowered</compClass>
        <heatPerSecond>2</heatPerSecond>
        <heatPushMaxTemperature>23</heatPushMaxTemperature>
      </li>
      <li Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Flame</li>
        </focusTypes>
        <offsets>
          <li Class="FocusStrengthOffset_Lit">
            <offset>0.15</offset>
          </li>
          <li Class="FocusStrengthOffset_BuildingDefsLit">
            <defs>
              <li>Campfire</li>
              <li>TorchLamp</li>
              <li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
              <li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
            </defs>
            <offsetPerBuilding>0.02</offsetPerBuilding>
            <radius>9.9</radius>
            <maxBuildings>8</maxBuildings>
            <explanationKey>MeditationFocusPerFlame</explanationKey>
            <explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
          </li>
        </offsets>
      </li>
    </comps>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedLanternDarklight</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawOffset>(0,0,0.2)</drawOffset>
		<shadowData>
			<volume>(0.55, 0.35, 0.3)</volume>
			<offset>(0, 0, -0.28)</offset>
		</shadowData>
		<damageData>
			<rect>(0.2,0.3,0.6,0.6)</rect>
		</damageData>
		</graphicData>
</ThingDef>

<ThingDef MayRequire="Ludeon.RimWorld.Biotech" ParentName="BotchJob_ProfanedLantern">
	<defName>BotchJob_ProfanedLanternBlood</defName>
	<label>bloodflame profaned lantern</label>
	<description>A metal lantern that emits an eerie red glow. The light is very faint but will but the lantern will burn indefinitely.</description>
	<comps Inherit="False">
      <li Class="CompProperties_Glower">
        <glowRadius>3</glowRadius>
        <glowColor>(460, 220, 205, 0)</glowColor>
      </li>
      <li Class="CompProperties_HeatPusher">
        <compClass>CompHeatPusherPowered</compClass>
        <heatPerSecond>2</heatPerSecond>
        <heatPushMaxTemperature>23</heatPushMaxTemperature>
      </li>
      <li Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Flame</li>
        </focusTypes>
        <offsets>
          <li Class="FocusStrengthOffset_Lit">
            <offset>0.15</offset>
          </li>
          <li Class="FocusStrengthOffset_BuildingDefsLit">
            <defs>
              <li>Campfire</li>
              <li>TorchLamp</li>
              <li MayRequire="Ludeon.RimWorld.Royalty">Brazier</li>
              <li MayRequire="Ludeon.RimWorld.Royalty,Ludeon.RimWorld.Ideology">DarklightBrazier</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">Darktorch</li>
              <li MayRequire="Ludeon.RimWorld.Ideology">DarktorchFungus</li>
            </defs>
            <offsetPerBuilding>0.02</offsetPerBuilding>
            <radius>9.9</radius>
            <maxBuildings>8</maxBuildings>
            <explanationKey>MeditationFocusPerFlame</explanationKey>
            <explanationKeyAbstract>MeditationFocusPerFlameAbstract</explanationKeyAbstract>
          </li>
        </offsets>
      </li>
    </comps>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedLanternBlood</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawOffset>(0,0,0.2)</drawOffset>
		<shadowData>
			<volume>(0.55, 0.35, 0.3)</volume>
			<offset>(0, 0, -0.28)</offset>
		</shadowData>
		<damageData>
			<rect>(0.2,0.3,0.6,0.6)</rect>
		</damageData>
		</graphicData>
</ThingDef>


<!-- ==================== Banner =================== --> 

<ThingDef ParentName="FurnitureWithQualityBase">
    <defName>BotchJob_ProfanedBanner</defName>
	<label>profaned banner</label>
	<description>A ragged and torn banner displaying the insignia of the Profaned.</description>
	<designationCategory>Furniture</designationCategory>
	<altitudeLayer>Building</altitudeLayer>
	<passability>PassThroughOnly</passability>
	<fillPercent>0.25</fillPercent>
	<pathCost>0</pathCost>
	<building>
      	<paintable>true</paintable>
    </building>
	<statBases>
		<MaxHitPoints>100</MaxHitPoints>
		<WorkToBuild>750</WorkToBuild>
		<Mass>10</Mass>
		<Flammability>1.0</Flammability>
		<Beauty>20</Beauty>
	</statBases>
	<stuffCategories>
	<li>Metallic</li>
	</stuffCategories>
	<costStuffCount>20</costStuffCount>
	<costList>
		<Cloth>40</Cloth>
	</costList>
		 <researchPrerequisites>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
	<holdsRoof>false</holdsRoof>
	<canOverlapZones>false</canOverlapZones>
	<rotatable>false</rotatable>
	<fertility>0</fertility>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedBanner</texPath>
		<drawSize>(2,2)</drawSize>
		<drawOffset>(0,0,0.2)</drawOffset>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
	 	<shadowData>
			<volume>(0.3, 0.5, 0.3)</volume>
			<offset>(0,0,-0.23)</offset>
		</shadowData>
		<damageData>
			<rect>(0.2,0.2,0.6,0.6)</rect>
		</damageData>
	</graphicData>
	<uiIconScale>0.5</uiIconScale>
</ThingDef>

<!-- ==================== Table =================== --> 

<ThingDef ParentName="FurnitureWithQualityBase">
	<defName>BotchJob_ProfanedTable</defName>
	<label>profaned table</label>
	<description>A heavy, stone table in the style of the Profaned. Can be used as a surface for eating by those who don't mind the skulls.</description>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedTable2x2</texPath>
		<graphicClass>Graphic_Single</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawSize>(4,4)</drawSize>
		<damageData>
			<cornerTL>Damage/Corner</cornerTL>
			<cornerTR>Damage/Corner</cornerTR>
			<cornerBL>Damage/Corner</cornerBL>
			<cornerBR>Damage/Corner</cornerBR>
		</damageData>
	</graphicData>
	<uiIconScale>0.8</uiIconScale>
	<statBases>
		<MaxHitPoints>200</MaxHitPoints>
		<WorkToBuild>5000</WorkToBuild>
		<Mass>10</Mass>
		<Flammability>1.0</Flammability>
		<Beauty>1</Beauty>
	</statBases>
	<size>(2,2)</size>
	<rotatable>false</rotatable>
	<thingClass>Building</thingClass>
	<altitudeLayer>Building</altitudeLayer>
	<passability>PassThroughOnly</passability>
	<castEdgeShadows>true</castEdgeShadows>
	<pathCost>42</pathCost>
	<fillPercent>0.4</fillPercent>
	<socialPropernessMatters>true</socialPropernessMatters>
	<canOverlapZones>false</canOverlapZones>
	<costStuffCount>50</costStuffCount>
	<stuffCategories>
		<li>Stony</li>
	</stuffCategories>
	 <researchPrerequisites>
		<li>Stonecutting</li>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
	<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
	<staticSunShadowHeight>0.20</staticSunShadowHeight>
	<surfaceType>Eat</surfaceType>
	<uiOrder>2300</uiOrder>
	<comps>
		<li>
			<compClass>CompGatherSpot</compClass>
		</li>
	</comps>
	<building>
		<paintable>true</paintable>
		<buildingTags>
			<li>RitualFocus</li>
		</buildingTags>
	</building>
	<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
	<placeWorkers>
		<li>PlaceWorker_RitualFocus</li>
	</placeWorkers>
</ThingDef>

<ThingDef ParentName="FurnitureWithQualityBase">
	<defName>BotchJob_ProfanedTableLarge</defName>
	<label>large profaned table</label>
	<description>A heavy, stone table in the style of the Profaned. Can be used as a surface for eating by those who don't mind the skulls.</description>
	<graphicData>
		<texPath>Things/Building/Furniture/ProfanedTable3x3</texPath>
		<graphicClass>Graphic_Multi</graphicClass>
		<shaderType>CutoutComplex</shaderType>
		<drawSize>(4.8,4.8)</drawSize>
		<damageData>
			<cornerTL>Damage/Corner</cornerTL>
			<cornerTR>Damage/Corner</cornerTR>
			<cornerBL>Damage/Corner</cornerBL>
			<cornerBR>Damage/Corner</cornerBR>
		</damageData>
	</graphicData>
	<statBases>
		<MaxHitPoints>500</MaxHitPoints>
		<WorkToBuild>10000</WorkToBuild>
		<Mass>15</Mass>
		<Flammability>1.0</Flammability>
		<Beauty>15</Beauty>
	</statBases>
	<size>(3,3)</size>
	<thingClass>Building</thingClass>
	<altitudeLayer>Building</altitudeLayer>
	<passability>PassThroughOnly</passability>
	<castEdgeShadows>true</castEdgeShadows>
	<pathCost>42</pathCost>
	<fillPercent>0.4</fillPercent>
	<socialPropernessMatters>true</socialPropernessMatters>
	<canOverlapZones>false</canOverlapZones>
	<costStuffCount>80</costStuffCount>
	<stuffCategories>
		<li>Stony</li>
	</stuffCategories>
	<costList>
		<Cloth>30</Cloth>
		<BotchJob_TaintedBone>5</BotchJob_TaintedBone>
	</costList>
	 <researchPrerequisites>
		<li>Stonecutting</li>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
	<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
	<staticSunShadowHeight>0.20</staticSunShadowHeight>
	<surfaceType>Eat</surfaceType>
	<uiOrder>2300</uiOrder>
	<uiIconScale>0.7</uiIconScale>
	<comps>
		<li>
			<compClass>CompGatherSpot</compClass>
		</li>
	</comps>
	<building>
		<paintable>true</paintable>
		<buildingTags>
			<li>RitualFocus</li>
		</buildingTags>
	</building>
	<drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
	<placeWorkers>
		<li>PlaceWorker_RitualFocus</li>
	</placeWorkers>
</ThingDef>


<!-- ==================== Chair =================== --> 

	<ThingDef ParentName="ArtableFurnitureBase">
    <defName>BotchJob_ProfanedChair</defName>
    <label>profaned chair</label>
    <description>A large, stone chair in the style of the Profaned. More comfortable than it looks.</description>
    <graphicData>
      <texPath>Things/Building/Furniture/ProfanedChair</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(2.6,2.6)</drawSize>
      <damageData>
        <rectN>(0.25,0.234375,0.5,0.28125)</rectN>
        <rectS>(0.25,0.234375,0.5,0.28125)</rectS>
        <rectE>(0.28125,0.25,0.453125,0.25)</rectE>
        <rectW>(0.28125,0.25,0.453125,0.25)</rectW>
      </damageData>
      <shadowData>
        <volume>(0.23, 0.26, 0.23)</volume>
      </shadowData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <statBases>
      <MaxHitPoints>100</MaxHitPoints>
      <WorkToBuild>4000</WorkToBuild>
      <Mass>5</Mass>
      <Flammability>1.0</Flammability>
      <Beauty>8</Beauty>
      <Comfort>0.70</Comfort>
    </statBases>
    <socialPropernessMatters>true</socialPropernessMatters>
    <stuffCategories>
      <li>Stony</li>
    </stuffCategories>
	 <researchPrerequisites>
	 <li>Stonecutting</li>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
    <costStuffCount>45</costStuffCount>
    <pathCost>30</pathCost>
    <designationHotKey>Misc7</designationHotKey>
    <fillPercent>0.35</fillPercent>
    <defaultPlacingRot>South</defaultPlacingRot>
    <uiOrder>2410</uiOrder>
    <building>
      <isSittable>true</isSittable>
      <paintable>true</paintable>
    </building>
    <constructionSkillPrerequisite>4</constructionSkillPrerequisite>


  </ThingDef>
  
  <!-- ==================== Bed =================== --> 

	<ThingDef ParentName="BasicBedBase" Name="Bed">
    <defName>BotchJob_ProfanedBed</defName>
    <label>profaned bed</label>
    <description>A single, stone bed adorned with bone. More comfortable than it looks.</description>
    <graphicData>
      <texPath>Things/Building/Furniture/ProfanedBed</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <shaderType>CutoutComplex</shaderType>
      <drawSize>(2.1,2.1)</drawSize>
      <damageData>
        <rect>(0,0.05,1,1.95)</rect>
      </damageData>
    </graphicData>
    <statBases>
      <MaxHitPoints>140</MaxHitPoints>
      <Beauty>2</Beauty>
      <WorkToBuild>800</WorkToBuild>
      <Mass>30</Mass>
      <BedRestEffectiveness>1</BedRestEffectiveness>
    </statBases>
	<stuffCategories Inherit ="False">
      <li>Stony</li>
    </stuffCategories>
	<costList>
      <BotchJob_TaintedBone>2</BotchJob_TaintedBone>
    </costList>
    <size>(1,2)</size>
    <costStuffCount>45</costStuffCount>
    <designationHotKey>Misc2</designationHotKey>
    <uiOrder>2010</uiOrder>
	 <researchPrerequisites Inherit ="False">
	 <li>Stonecutting</li>
	  <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
    <building>
      <paintable>true</paintable>
	  <bed_showSleeperBody>True</bed_showSleeperBody>
    </building>
  </ThingDef>
  
  <ThingDef ParentName="BasicBedBase">
    <defName>BotchJob_ProfanedRoyalBed</defName>
    <label>profaned royal bed</label>
    <description>A stone bed adorned with bone, fit for nobility that are morbidly inclined. Surprisingly very comfortable and a quite a sight to behold. Fits two.</description>
    <graphicData>
      <texPath>Things/Building/Furniture/ProfanedRoyalBed</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <shaderType>CutoutComplex</shaderType>
      <drawSize>(3,3)</drawSize>
      <damageData>
        <rect>(0,0.05,2,1.95)</rect>
      </damageData>
    </graphicData>
    <statBases>
      <MaxHitPoints>200</MaxHitPoints>
      <WorkToBuild>50000</WorkToBuild>
      <Mass>60</Mass>
      <Beauty>75</Beauty>
      <BedRestEffectiveness>1.05</BedRestEffectiveness>
      <Comfort>0.90</Comfort>
    </statBases>
    <size>(2,2)</size>
	<stuffCategories Inherit ="False">
		<li>Stony</li>
	</stuffCategories>
    <costStuffCount>100</costStuffCount>
    <costList>
	   <Silver>30</Silver>
      <BotchJob_TaintedBone>10</BotchJob_TaintedBone>
    </costList>
	 <researchPrerequisites Inherit ="False">
	 <li>Stonecutting</li>
	  <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
	<uiIconScale>0.75</uiIconScale>
    <terrainAffordanceNeeded>Light</terrainAffordanceNeeded>
    <leaveResourcesWhenKilled>True</leaveResourcesWhenKilled>
    <designationHotKey>Misc4</designationHotKey>
    <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
    <building>
      <paintable>true</paintable>
	   <bed_showSleeperBody>True</bed_showSleeperBody>
    </building>
  </ThingDef>
  
  <!-- ==================== Chest =================== --> 
  
  
  <ThingDef ParentName="BuildingBase">
		<defName>BotchJob_ProfanedChest</defName>
		<label>profaned chest</label>
		<description>A heavy chest containing various tools and instruments. Increases work speed when placed near a profaned workbench.</description>
		<graphicData>
			<texPath>Things/Building/Furniture/BotchJob_ProfanedChest</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>(1.35)</drawSize>
			<drawOffset>(0,0,0.2)</drawOffset>
			<damageData>
				<cornerTL>Damage/Corner</cornerTL>
				<cornerTR>Damage/Corner</cornerTR>
				<cornerBL>Damage/Corner</cornerBL>
				<cornerBR>Damage/Corner</cornerBR>
			</damageData>
		</graphicData>
		<thingCategories>
			<li>BuildingsMisc</li>
		</thingCategories>
		<altitudeLayer>Building</altitudeLayer>
		<passability>PassThroughOnly</passability>
		<fillPercent>0.4</fillPercent>
		<castEdgeShadows>true</castEdgeShadows>
		<pathCost>42</pathCost>
		<researchPrerequisites>
			<li>BotchJob_ProfanedBasics</li>
		</researchPrerequisites>
		<designationCategory>Misc</designationCategory>
		<minifiedDef>MinifiedThing</minifiedDef>
		<constructionSkillPrerequisite>4</constructionSkillPrerequisite>
		<costList>
			<WoodLog>50</WoodLog>
			<Steel>100</Steel>
		</costList>
		<rotatable>false</rotatable>
		<statBases>
			<MaxHitPoints>120</MaxHitPoints>
			<Mass>20</Mass>
			<WorkToBuild>2000</WorkToBuild>
			<Flammability>1.0</Flammability>
			<Beauty>5</Beauty>
		</statBases>
		<size>(1,1)</size>
		<designationHotKey>Misc12</designationHotKey>
		<staticSunShadowHeight>0.3</staticSunShadowHeight>
		<canOverlapZones>false</canOverlapZones>
		<placeWorkers>
			<li>PlaceWorker_ShowFacilitiesConnections</li>
		</placeWorkers>
		<comps>
			<li Class="CompProperties_Facility">
			<statOffsets>
				<WorkTableWorkSpeedFactor>0.1</WorkTableWorkSpeedFactor>
				</statOffsets>
				<maxSimultaneous>1</maxSimultaneous>
			</li>
		</comps>
	</ThingDef>
  
  
  
    <!-- ==================== Production =================== -->
  <!-- ================= Alchemy Bench ================ -->
  
  
  <ThingDef ParentName="BenchBase">
    <defName>BotchJob_ProfaneAlchemyBench</defName>
    <label>profane alchemy bench</label>
    <description>A stone table replete with various instruments, tomes and morbid curios suitable for undertaking profane alchemy.</description>
    <thingClass>Building_WorkTable</thingClass>
    <graphicData>
      <texPath>Things/Building/Other/BotchJob_ProfaneAlchemyBench</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(4.5,3.5)</drawSize>
	  <drawOffset>(0,0,0.2)</drawOffset>
      <shaderType>CutoutComplex</shaderType>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
      </damageData>
    </graphicData>
    <minifiedDef>MinifiedThing</minifiedDef>
    <costStuffCount>200</costStuffCount>
    <stuffCategories>
      <li>Stony</li>
    </stuffCategories>
    <costList>
      <Silver>50</Silver>
	  <Cloth>50</Cloth>
    </costList>
    <altitudeLayer>Building</altitudeLayer>
    <fillPercent>0.5</fillPercent>
    <useHitPoints>True</useHitPoints>
    <statBases>
      <WorkToBuild>4000</WorkToBuild>
      <MaxHitPoints>300</MaxHitPoints>
      <Flammability>1.0</Flammability>
    </statBases>
    <size>(3,2)</size>
    <designationCategory>Production</designationCategory>
    <passability>PassThroughOnly</passability>
    <pathCost>50</pathCost>
    <hasInteractionCell>True</hasInteractionCell>
    <interactionCellOffset>(0,0,-1)</interactionCellOffset>
    <surfaceType>Item</surfaceType>
    <inspectorTabs>
      <li>ITab_Bills</li>
    </inspectorTabs>
    <building>
      <spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
	 <paintable>true</paintable>
    </building>
    <comps>
      <li Class="CompProperties_AffectedByFacilities">
        <linkableFacilities>
		  <li>BotchJob_ProfanedChest</li>
		  <li MayRequire="DankPyon.Medieval.Overhaul">DankPyon_RusticBookshelf</li>
        </linkableFacilities>
      </li>
    </comps>
    <placeWorkers>
      <li>PlaceWorker_ShowFacilitiesConnections</li>
      <li>PlaceWorker_PreventInteractionSpotOverlap</li>
    </placeWorkers>
    <researchPrerequisites>
     <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
  </ThingDef>
  
    <WorkGiverDef>
    <defName>BotchJob_DoBillsProfaneAlchemy</defName>
    <label>perform profane alchemy</label>
    <giverClass>WorkGiver_DoBill</giverClass>
    <workType>Crafting</workType>
    <priorityInType>100</priorityInType>
    <fixedBillGiverDefs>
      <li>BotchJob_ProfaneAlchemyBench</li>
    </fixedBillGiverDefs>
    <verb>perform profane alchemy</verb>
    <gerund>performing alchemy at</gerund>
    <requiredCapacities>
      <li>Manipulation</li>
    </requiredCapacities>
    <prioritizeSustains>true</prioritizeSustains>
  </WorkGiverDef>
  
  
  <!-- ================= Ritual Circle ================ -->
	
	<ThingDef ParentName="BenchBase">
    <defName>BotchJob_ProfaneRitualCircle</defName>
    <label>profane ritual circle</label>
    <description>A stone ritual circle suitable for undertaking the dark practices of the Profaned. Such practices include creating soul gems from recently deceased humanoids and using souls gems to create undead creatures.\n\nCan also be used for harvesting resources from undead creatures.</description>
    <thingClass>Building_WorkTable</thingClass>
    <graphicData>
      <texPath>Things/Building/Other/BotchJob_ProfaneRitualCircle</texPath>
      <graphicClass>Graphic_Multi</graphicClass>
      <drawSize>(3,3)</drawSize>
    <shaderType>CutoutComplex</shaderType>
    </graphicData>
	<costStuffCount>150</costStuffCount>
    <stuffCategories>
      <li>Stony</li>
    </stuffCategories>
    <altitudeLayer>Building</altitudeLayer>
    <fillPercent>0.5</fillPercent>
    <useHitPoints>True</useHitPoints>
    <statBases>
      <WorkToBuild>3000</WorkToBuild>
      <MaxHitPoints>180</MaxHitPoints>
      <Flammability>1.0</Flammability>
      <Cleanliness>-15</Cleanliness>
    </statBases>
	  <researchPrerequisites>
     <li>BotchJob_ProfanedBasics</li>
    </researchPrerequisites>
    <size>(3,3)</size>
    <designationCategory>Production</designationCategory>
    <uiOrder>2100</uiOrder>
    <passability>Standable</passability>
    <pathCost>50</pathCost>
    <hasInteractionCell>True</hasInteractionCell>
    <interactionCellOffset>(0,0,0)</interactionCellOffset>
	<interactionCellIcon Inherit="False"/>
    <surfaceType>Item</surfaceType>
    <recipes>
      <li>BotchJob_ExtractSoul</li>
      <li>BotchJob_ButcherUndead</li>
	  <li MayRequire="DankPyon.Medieval.Overhaul">BotchJob_MakeBonesfromMOBones</li>
	  <li>BotchJob_MakeBonesfromSkull</li>
	  <li MayRequire="Ludeon.RimWorld.Biotech">BotchJob_MakeBloodfromHemogen</li>
	  <li MayRequire="Ludeon.RimWorld.Biotech">BotchJob_MakeBloodfromHemogenBulk</li>
    </recipes>
    <inspectorTabs>
      <li>ITab_Bills</li>
    </inspectorTabs>
    <building>
      <spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
      <paintable>true</paintable>
    </building>
    <comps>
      <li Class="CompProperties_AffectedByFacilities">
        <linkableFacilities>
          <li>BotchJob_ProfanedChest</li>
        </linkableFacilities>
      </li>
    </comps>
    <designationHotKey>Misc3</designationHotKey>
    <placeWorkers>
      <li>PlaceWorker_ShowFacilitiesConnections</li>
      <li>PlaceWorker_PreventInteractionSpotOverlap</li>
    </placeWorkers>
  </ThingDef>
  
  <WorkGiverDef>
    <defName>BotchJob_ProfaneRitual</defName>
    <label>conduct dark practice</label>
    <giverClass>WorkGiver_DoBill</giverClass>
    <workType>Crafting</workType>
    <priorityInType>100</priorityInType>
    <fixedBillGiverDefs>
      <li>BotchJob_ProfaneRitualCircle</li>
    </fixedBillGiverDefs>
    <verb>conduct dark practice</verb>
    <gerund>conducting dark practices at</gerund>
    <requiredCapacities>
      <li>Manipulation</li>
    </requiredCapacities>
    <prioritizeSustains>true</prioritizeSustains>
  </WorkGiverDef>
  
  <RecipeDef>
    <defName>BotchJob_ButcherUndead</defName>
    <label>harvest undead creature</label>
    <description>Harvest the remains of an undead creature for useful crafting materials.</description>
    <workerCounterClass>RecipeWorkerCounter_ButcherAnimals</workerCounterClass>
    <jobString>Harvesting remains.</jobString>
    <workAmount>450</workAmount>
    <workSpeedStat>ButcheryFleshSpeed</workSpeedStat>
    <workSkill>Cooking</workSkill>
    <efficiencyStat>ButcheryFleshEfficiency</efficiencyStat>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_ButcherCorpseFlesh</soundWorking>
    <interruptIfIngredientIsRotting>true</interruptIfIngredientIsRotting>
    <uiIconThing>BotchJob_TaintedBone</uiIconThing>
    <ingredients>
      <li>
        <filter>
          <categories>
            <li>BotchJob_CorpsesUndead</li>
          </categories>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <specialProducts>
      <li>Butchery</li>
    </specialProducts>
    <fixedIngredientFilter>
      <categories>
        <li>BotchJob_CorpsesUndead</li>
      </categories>
    </fixedIngredientFilter>
    <defaultIngredientFilter>
      <categories>
        <li>BotchJob_CorpsesUndead</li>
      </categories>
    </defaultIngredientFilter>
	<researchPrerequisite>BotchJob_ProfanedBasics</researchPrerequisite>
  </RecipeDef>
  
  
  <RecipeDef>
    <defName>BotchJob_ExtractSoul</defName>
    <label>extract soul</label>
    <description>Perform a profane ritual on a recently deceased human, extracting their fading soul and trapping it within a soul gem.\n\nThis also yields some human meat and leather, but not as much regular butchery.</description>
    <workerCounterClass>RecipeWorkerCounter_ButcherAnimals</workerCounterClass>
    <jobString>Extracting soul.</jobString>
    <workAmount>1000</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
	<workSkill>Intellectual</workSkill>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <interruptIfIngredientIsRotting>true</interruptIfIngredientIsRotting>
    <uiIconThing>BotchJob_SoulGem</uiIconThing>
	<autoStripCorpses>false</autoStripCorpses>
	<skillRequirements>
		<Intellectual>6</Intellectual>
	</skillRequirements>
    <ingredients>
      <li>
        <filter>
          <categories>
            <li>Corpses</li>
          </categories>
        </filter>
        <count>1</count>
      </li>
	  <li>
        <filter>
          <thingDefs>
            <li>Silver</li>
          </thingDefs>
        </filter>
        <count>3</count>
      </li>
	  <li>
        <filter>
          <thingDefs>
            <li>Cloth</li>
          </thingDefs>
        </filter>
        <count>20</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <categories>
        <li>CorpsesHumanlike</li>
      </categories>
      <specialFiltersToDisallow>
        <li>AllowRotten</li>
      </specialFiltersToDisallow>
    </fixedIngredientFilter>
    <defaultIngredientFilter>
      <categories>
        <li>CorpsesHumanlike</li>
      </categories>
    </defaultIngredientFilter>
	<products>
		<BotchJob_SoulGem>1</BotchJob_SoulGem>
		<Meat_Human>30</Meat_Human>
		<Leather_Human>30</Leather_Human>
	</products>
	<researchPrerequisite>BotchJob_ProfanedAdvanced</researchPrerequisite>
  </RecipeDef>
 
	<RecipeDef MayRequire="DankPyon.Medieval.Overhaul">
    <defName>BotchJob_MakeBonesfromMOBones</defName>
    <label>create tainted bones from regular bones</label>
    <description>Create tainted bones from regular bones via profane ritual.</description>
    <jobString>Creating tainted bones.</jobString>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <workAmount>2000</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
	<skillRequirements>
		<Intellectual>4</Intellectual>
	</skillRequirements>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>DankPyon_Bone</li>
          </thingDefs>
        </filter>
        <count>50</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>DankPyon_Bone</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <BotchJob_TaintedBone>5</BotchJob_TaintedBone>
    </products>
	<researchPrerequisite>BotchJob_ProfanedBasics</researchPrerequisite>
  </RecipeDef>
  
  <RecipeDef>
    <defName>BotchJob_MakeBonesfromSkull</defName>
    <label>create tainted bones from a human skull</label>
    <description>Create tainted bones from regular bones via profane ritual.</description>
    <jobString>Creating tainted bones.</jobString>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <workAmount>2000</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
	<skillRequirements>
		<Intellectual>4</Intellectual>
	</skillRequirements>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>Skull</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>Skull</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <BotchJob_TaintedBone>5</BotchJob_TaintedBone>
    </products>
	<researchPrerequisite>BotchJob_ProfanedBasics</researchPrerequisite>
  </RecipeDef>
  
   <RecipeDef MayRequire="Ludeon.RimWorld.Biotech">
    <defName>BotchJob_MakeBloodfromHemogen</defName>
    <label>create corrupted blood from hemogen</label>
    <description>Create corrupted blood from hemogen via profane ritual.</description>
    <jobString>Creating corrupted blood.</jobString>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <workAmount>2000</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
	<skillRequirements>
		<Intellectual>4</Intellectual>
	</skillRequirements>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HemogenPack</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HemogenPack</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <BotchJob_CorruptedBlood>1</BotchJob_CorruptedBlood>
    </products>
	<researchPrerequisite>BotchJob_ProfanedBasics</researchPrerequisite>
  </RecipeDef>
 
  <RecipeDef MayRequire="Ludeon.RimWorld.Biotech">
    <defName>BotchJob_MakeBloodfromHemogenBulk</defName>
    <label>create corrupted blood from hemogen x5</label>
    <description>Create corrupted blood from hemogen via profane ritual.</description>
    <jobString>Creating corrupted blood.</jobString>
    <effectWorking>BotchJob_RitualCircleEffect</effectWorking>
    <soundWorking>Recipe_Surgery</soundWorking>
    <workAmount>4000</workAmount>
    <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
	<skillRequirements>
		<Intellectual>4</Intellectual>
	</skillRequirements>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>HemogenPack</li>
          </thingDefs>
        </filter>
        <count>5</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>HemogenPack</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <BotchJob_CorruptedBlood>5</BotchJob_CorruptedBlood>
    </products>
	<researchPrerequisite>BotchJob_ProfanedBasics</researchPrerequisite>
  </RecipeDef>
  
  <FleckDef ParentName="FleckBase_Thrown">
		<defName>BotchJob_RitualCircleFleckA</defName>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<fadeInTime>0.1</fadeInTime>
		<solidTime>0.1</solidTime>
		<fadeOutTime>2</fadeOutTime>
		<growthRate>0</growthRate>
		<acceleration>(0, 0, 0.3)</acceleration>
		<graphicData>
			<texPath>Things/Mote/BotchJob_BestowCurseMote</texPath>
			<shaderType>MoteGlow</shaderType>
		</graphicData>
	</FleckDef>
	
	<FleckDef ParentName="FleckBase">
		<defName>BotchJob_RitualCircleFleckB</defName>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<fadeInTime>0.1</fadeInTime>
		<solidTime>0.1</solidTime>
		<fadeOutTime>2</fadeOutTime>
		<growthRate>0.2</growthRate>
		<graphicData>
			<texPath>Things/Mote/BotchJob_ProfaneRitualMote</texPath>
			<shaderType>MoteGlow</shaderType>
			<color>(0.2,0.4,0.2,1)</color>
		</graphicData>
	</FleckDef>
	
	
	
	<EffecterDef>
		<defName>BotchJob_RitualCircleEffect</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
				<positionRadius>0.8</positionRadius>
				<positionRadiusMin>0.5</positionRadiusMin>
				<fleckDef>BotchJob_RitualCircleFleckA</fleckDef>
				<ticksBetweenMotes>80</ticksBetweenMotes>
				<initialDelayTicks>0</initialDelayTicks>
				<scale>0.4~0.6</scale>
				<rotation>-30~30</rotation>
				<spawnLocType>OnSource</spawnLocType>
			</li>
			<li>
				<subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
				<positionRadius>1.0</positionRadius>
				<positionRadiusMin>0.5</positionRadiusMin>
				<fleckDef>BotchJob_RitualCircleFleckB</fleckDef>
				<positionLerpFactor>0.49</positionLerpFactor>
				<chancePerTick>0.2</chancePerTick>
				<scale>0.1~0.3</scale>
			</li>
		</children>
	</EffecterDef>
  
  
  <!-- ==================== Orb pedestal =================== --> 
  
  <ThingDef ParentName="ArtableFurnitureBase">
    <defName>BotchJob_WraithOrbPedestal</defName>
    <label>wraith orb pedestal</label>
    <description>A wraith orb placed atop a decorative pedestal. The orb faintly glows and radiates cold, enough to significantly lower the temperature of an enclosed area. It lasts a long while but will eventually dissipate and need replacing.</description>
    <category>Building</category>
    <graphicData>
      <texPath>Things/Building/Furniture/BotchJob_WraithOrbPedestal</texPath>
      <graphicClass>Graphic_Single</graphicClass>
	  <shaderType>CutoutComplex</shaderType>
      <drawSize>1.5</drawSize>
	  <drawOffset>(0,0,0.2)</drawOffset>
      <drawRotated>false</drawRotated>
      <allowFlip>false</allowFlip>
      <shadowData>
        <volume>(0.9,0.3,0.9)</volume>
      </shadowData>
      <damageData>
        <rect>(0.2,0,0.6,0.1)</rect>
      </damageData>
    </graphicData>
    <rotatable>false</rotatable>
    <altitudeLayer>Building</altitudeLayer>
    <passability>PassThroughOnly</passability>
    <pathCost>30</pathCost>
    <tickerType>Normal</tickerType>
    <drawerType>MapMeshAndRealTime</drawerType>
    <fillPercent>0.40</fillPercent>
    <statBases>
      <MaxHitPoints>200</MaxHitPoints>
	   <Mass>5</Mass>
      <WorkToBuild>2000</WorkToBuild>
      <Flammability>1</Flammability>
	  <Beauty>30</Beauty>
    </statBases>
    <selectable>true</selectable>
    <stuffCategories>
		<li>Metallic</li>
		<li>Stony</li>
	</stuffCategories>
	<costList>
		<BotchJob_WraithOrb>1</BotchJob_WraithOrb>
	</costList>
    <building>
	  <paintable>true</paintable>
    </building>
    <soundImpactDefault>BulletImpact_Ground</soundImpactDefault>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <placeWorkers>
      <li>PlaceWorker_CoolerSimple</li>
    </placeWorkers>
    <drawPlaceWorkersWhileSelected>true</drawPlaceWorkersWhileSelected>
    <comps>
		<li Class="CompProperties_Glower">
			<glowRadius>2</glowRadius>
			<glowColor>(115,255,255,0)</glowColor>
		</li>
      <li Class="CompProperties_HeatPusher">
        <compClass>CompHeatPusherPowered</compClass>
        <heatPerSecond>-12</heatPerSecond>
        <heatPushMinTemperature>-20</heatPushMinTemperature>
      </li>
	  <li Class="CompProperties_Refuelable">
        <fuelConsumptionRate>1</fuelConsumptionRate>
        <fuelCapacity>50</fuelCapacity>
        <fuelFilter>
          <thingDefs>
            <li>BotchJob_WraithOrb</li>
          </thingDefs>
        </fuelFilter>
        <initialFuelPercent>1</initialFuelPercent>
		<fuelMultiplier>100</fuelMultiplier>
        <showAllowAutoRefuelToggle>true</showAllowAutoRefuelToggle>
      </li>
    </comps>
    <designationCategory>Temperature</designationCategory>
    <designationHotKey>Misc4</designationHotKey>
    <researchPrerequisites>
		<li>Stonecutting</li>
	  <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
  </ThingDef>
  
  <!--=============== turret ===============-->

  <ThingDef ParentName="BuildingBase">
    <defName>BotchJob_BloodStoneTurret</defName>
    <label>bloodstone turret</label>
    <description>A volatile bloodstone utilized as a defensive emplacement. Although protected by its heavy stone mounting, care should be taken as the bloodstone is likely to explode if it takes too much damage.\n\nThe bloodstone is tuned to seek enemies and after briefly charging, it will launch a deadly lance of bloodflame towards its target, piercing and incinerating them. The bloodstone will eventually expend all of its charge and need replacing.</description>
    <thingClass>Building_TurretGun</thingClass>
    <drawerType>MapMeshAndRealTime</drawerType>
    <graphicData>
      <texPath>Things/Building/Other/BotchJob_BloodStoneTurret</texPath>
      <graphicClass>Graphic_Single</graphicClass>
	  <shaderType>CutoutComplex</shaderType>
		<drawSize>(3, 3)</drawSize>
		 <drawOffset>(0,0,0.2)</drawOffset>
		<damageData>
		<rect>(0.2,0.2,0.6,0.6)</rect>
		</damageData>
		<shadowData>
		<volume>(1.6,1,1.4)</volume>
		<offset>(-0.03,0,0.05)</offset>
		</shadowData>
    </graphicData>
    <uiIconPath>Things/Building/Other/BotchJob_BloodStoneTurret</uiIconPath>
    <uiIconScale>0.90</uiIconScale>
    <minifiedDef>MinifiedThing</minifiedDef>
    <altitudeLayer>Building</altitudeLayer>
    <stealable>false</stealable>
    <rotatable>false</rotatable>
	<leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
	<size>(2,2)</size>
    <thingCategories>
      <li>BuildingsSecurity</li>
    </thingCategories>
    <statBases>
      <MaxHitPoints>300</MaxHitPoints>
      <Flammability>0</Flammability>
      <WorkToBuild>18000</WorkToBuild>
      <Mass>150</Mass>
      <Beauty>20</Beauty>
      <ShootingAccuracyTurret>0.96</ShootingAccuracyTurret>
    </statBases>
    <tickerType>Normal</tickerType>
    <comps>
      <li Class="CompProperties_Explosive">
        <wickTicks>240</wickTicks>
        <explosiveRadius>3.9</explosiveRadius>
        <explosiveDamageType>BotchJob_BloodflameExplosion</explosiveDamageType>
        <chanceNeverExplodeFromDamage>0.5</chanceNeverExplodeFromDamage>
		<preExplosionSpawnThingDef>BotchJob_BloodstoneFilth</preExplosionSpawnThingDef>
		<preExplosionSpawnChance>0.5</preExplosionSpawnChance>
      </li>
      <li Class="CompProperties_Forbiddable"/>
		<li Class="CompProperties_Glower">
			<glowRadius>1</glowRadius>
			<glowColor>(252,150,150,0)</glowColor>
		</li>
      <li Class="CompProperties_Refuelable">
        <fuelLabel>Shots until depleted</fuelLabel>
        <fuelGizmoLabel>Charge</fuelGizmoLabel>
        <outOfFuelMessage>Needs new bloodstone</outOfFuelMessage>
        <fuelFilter><thingDefs><li>BotchJob_Bloodstone</li></thingDefs></fuelFilter>
        <fuelCapacity>50</fuelCapacity>       
        <fuelMultiplier>100</fuelMultiplier> 
        <initialFuelPercent>1</initialFuelPercent>
        <autoRefuelPercent>0.5</autoRefuelPercent>
        <showFuelGizmo>true</showFuelGizmo>
        <minimumFueledThreshold>1</minimumFueledThreshold>
        <factorByDifficulty>true</factorByDifficulty>
        <consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
        <fuelIconPath>Things/Item/Resource/BotchJob_Bloodstone</fuelIconPath>
      </li>
    </comps>
    <passability>Impassable</passability>
    <fillPercent>0.4</fillPercent>
    <hasTooltip>true</hasTooltip>
    <stuffCategories>
      <li>Stony</li>
    </stuffCategories>
    <costStuffCount>300</costStuffCount>
    <costList>
      <BotchJob_Bloodstone>1</BotchJob_Bloodstone>
    </costList>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <designationCategory>Security</designationCategory>
    <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
    <building>
      <combatPower>100</combatPower>
      <ai_combatDangerous>true</ai_combatDangerous>
      <turretGunDef>BotchJob_BloodStoneTurretWeapon</turretGunDef>
	  <turretBurstWarmupTime>5</turretBurstWarmupTime>
      <turretBurstCooldownTime>1</turretBurstCooldownTime>
	  <turretTopOffset>(0, 0.2)</turretTopOffset>
	  <paintable>true</paintable>
    </building>
    <placeWorkers>
      <li>PlaceWorker_TurretTop</li>
      <li>PlaceWorker_ShowTurretRadius</li>
    </placeWorkers>
    <designationHotKey>Misc2</designationHotKey>
    <researchPrerequisites>
		<li>Stonecutting</li>
	  <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
  </ThingDef>


  <ThingDef ParentName="BaseWeaponTurret">
    <defName>BotchJob_BloodStoneTurretWeapon</defName>
    <label>weaponized bloodstone</label>
    <description>A weaponized bloodstone capable of expending its heat energy in the form of deadly bloodflame lances.</description>
    <graphicData>
      <texPath>Things/Projectiles/BotchJob_Invisible</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>5</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>BotchJob_BloodstoneProj</defaultProjectile>
        <warmupTime>5</warmupTime>
        <minRange>5</minRange>
        <range>40</range>
		<forcedMissRadius>1</forcedMissRadius>
        <burstShotCount>1</burstShotCount>
        <soundCast>BotchJob_ProfanedStaffCast</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>12</muzzleFlashScale>
        <consumeFuelPerShot>1</consumeFuelPerShot>
      </li>
    </verbs>
  </ThingDef>
  
  <ThingDef ParentName="BaseBullet">
    <defName>BotchJob_BloodstoneProj</defName>
    <label>bloodflame lance</label>
    <graphicData>
      <texPath>Things/Item/Resource/BotchJob_Bloodstone</texPath>
      <graphicClass>Graphic_Single</graphicClass>
	  <drawSize>(2, 3)</drawSize>
    </graphicData>
	<thingClass>Projectile_Explosive</thingClass>
    <projectile>
      <damageDef>BotchJob_BloodflameImpact</damageDef>
      <damageAmountBase>40</damageAmountBase>
      <speed>50</speed>
	  <explosionRadius>1</explosionRadius>
	  <stoppingPower>5</stoppingPower>
		<armorPenetrationBase>0.5</armorPenetrationBase>
    </projectile>
  </ThingDef>

  
  <DamageDef ParentName="Flame">
    <defName>BotchJob_BloodflameImpact</defName>
    <label>bloodflame</label>
	<deathMessage>{0} has been incinerated by bloodflame.</deathMessage>
	<minDamageToFragment>15</minDamageToFragment>
	<defaultDamage>25</defaultDamage>
	<explosionHeatEnergyPerCell>30</explosionHeatEnergyPerCell>
	<explosionCellFleck>DustPuffThick</explosionCellFleck>
	<explosionColorCenter>(1, 0.4, 0.4)</explosionColorCenter>
	<explosionColorEdge>(1, 0.7, 0.7)</explosionColorEdge>
	<soundExplosion>BotchJob_BloodflameImpactSound</soundExplosion>
  </DamageDef>
  
  <SoundDef>
    <defName>BotchJob_BloodflameImpactSound</defName>
    <context>MapOnly</context>
    <maxVoices>2</maxVoices>
    <subSounds>
      <li>
        <grains>
          <li Class="AudioGrain_Folder">
            <clipFolderPath>Misc/BotchJob_BloodflameImpact</clipFolderPath>
          </li>
        </grains>
        <volumeRange>40~40</volumeRange>
        <pitchRange>0.95~1.05</pitchRange>
        <distRange>0~70</distRange>
        <sustainLoop>False</sustainLoop>
      </li>
    </subSounds>
  </SoundDef>
  
  
  
  
  
  <!-- ==================== Tiles =================== --> 

<TerrainDef Abstract="True" ParentName="FloorBase" Name="BotchJob_ProfanedTile">
    <renderPrecedence>220</renderPrecedence>
    <description>Ominous stone tiles in the style of the Profaned. Beautiful to some, unsettling to others.</description>
    <texturePath>Terrain/Surfaces/ProfanedTile</texturePath>
    <pollutionTintColor>(0.95, 0.95, 0.93, 1)</pollutionTintColor>
    <isPaintable>true</isPaintable>
    <statBases>
      <WorkToBuild>1000</WorkToBuild>
      <Beauty>2</Beauty>
      <CleaningTimeFactor>0.8</CleaningTimeFactor>
    </statBases>
    <designatorDropdown>BotchJob_ProfanedTileDropdown</designatorDropdown>
    <researchPrerequisites>
      <li>Stonecutting</li>
	  <li>BotchJob_ProfanedAdvanced</li>
    </researchPrerequisites>
	<tags>
		<li>FineFloor</li>
	</tags>
    <constructionSkillPrerequisite>6</constructionSkillPrerequisite>
    <uiOrder>2080</uiOrder>
  </TerrainDef>

  <TerrainDef ParentName="BotchJob_ProfanedTile">
    <defName>ProfanedTileSandstone</defName>
    <label>profaned sandstone tile</label>
    <color>(126,104,94)</color>
    <costList>
      <BlocksSandstone>8</BlocksSandstone>
    </costList>
  </TerrainDef>

  <TerrainDef ParentName="BotchJob_ProfanedTile">
    <defName>ProfanedTileGranite</defName>
    <label>profaned granite tile</label>
    <color>(105,95,97)</color>
    <costList>
      <BlocksGranite>8</BlocksGranite>
    </costList>
  </TerrainDef>

  <TerrainDef ParentName="BotchJob_ProfanedTile">
    <defName>ProfanedTileLimestone</defName>
    <label>profaned limestone tile</label>
    <color>(158,153,135)</color>
    <costList>
      <BlocksLimestone>8</BlocksLimestone>
    </costList>
  </TerrainDef>

  <TerrainDef ParentName="BotchJob_ProfanedTile">
    <defName>ProfanedTileSlate</defName>
    <label>profaned slate tile</label>
    <color>(70,70,70)</color>
    <costList>
      <BlocksSlate>8</BlocksSlate>
    </costList>
  </TerrainDef>

  <TerrainDef ParentName="BotchJob_ProfanedTile">
    <defName>ProfanedTileMarble</defName>
    <label>profaned marble tile</label>
    <color>(132,135,132)</color>
    <costList>
      <BlocksMarble>8</BlocksMarble>
    </costList>
  </TerrainDef>
  
  <DesignatorDropdownGroupDef>
<defName>BotchJob_ProfanedTileDropdown</defName>
<label>profaned tile</label>
</DesignatorDropdownGroupDef>



</Defs>
